{% load static %}

<div class="col-md-7 col-lg-8 form-container">
    <h4 class="mb-3">{{goodsInfo.get_category_display}}>{{goodsInfo.name}}</h4>
    <hr>
    <form class="needs-validation" method="post" action="{% url 'order:submissionForm' 'book' goodsInfo.id %}" id="submissionForm" enctype="multipart/form-data">
      {% csrf_token %}
      <input type="hidden" value="{{goodsInfo.category}}" name="category">
      <input type="hidden" value="{{goodsInfo.name}}" name="name">
      <div class="row g-3">
        <div class="col-12">
          <label class="form-label">용지</label>
          {% if goodsInfo.cover %}
          <div class="form-input">
            <div>
              <label class="form-label">표지</label>
              <select name="coverPaperType" class="form-select form-input" id="id_coverPaperType">
                <option value="아트지 200g">아트지 200g</option>
                <option value="랑데뷰지 190g">랑데뷰지 190g</option>
                <option value="스노우지 200g">스노우지 200g</option>
                <option value="진주펄지 200g">진주펄지 200g</option>
                <option value="마쉬멜로우지 186g">마쉬멜로우지 186g</option>
                <option value="레자크지 200g">레자크지 200g</option>
                <option value="머메이드지 200g">머메이드지 200g</option>
              </select>
              {% if form.coverPaperType.error %}
                <div class="text-danger">
                    {{ form.coverPaperType.error }}
                </div>
              {% endif %}
            </div>
            <div>
              <label class="form-label">내지</label>
              {{ form.paperType }}
              {% if form.paperType.error %}
                <div class="text-danger">
                    {{ form.paperType.error }}
                </div>
              {% endif %}
            </div>
          </div>
          {% else %}
            {{form.paperType}}
            {% if form.paperType.error %}
                <div class="text-danger">
                    {{ form.paperType.error }}
                </div>
            {% endif %}
          {% endif %}
        </div>
        <hr>

        <div class="col-12">
          <label class="form-label">도수</label>
          {% if goodsInfo.cover %}
          <div class="form-input">
            <div>
              <label class="form-label">표지</label>
              {{ form.coverProcess }}
              {% if form.coverProcess.error %}
                <div class="text-danger">
                    {{ form.coverProcess.error }}
                </div>
              {% endif %}
            </div>
            <div>
              <label class="form-label">내지</label>
              {{ form.process }}
              {% if form.process.error %}
                <div class="text-danger">
                    {{ form.process.error }}
                </div>
              {% endif %}
            </div>
          </div>
          {% else %}
            {{form.process}}
            {% if form.process.error %}
                <div class="text-danger">
                    {{ form.process.error }}
                </div>
            {% endif %}
          {% endif %}
        </div>
        <hr>

        <div class="col-12">
            <label for="address" class="form-label">표지 코팅</label>
            {{form.coating}}
            {% if form.coverCoating.error %}
              <div class="text-danger">
                  {{ form.coverCoating.error }}
              </div>
            {% endif %}
        </div>
        <hr>

        <div class="col-12">
          <span class="form-label" style="width: auto;">규격</span>
          <div class="row form-input">
            <div class="col-12">
              <select class="form-select" id="standard">
                  <option value="2">A4</option>
                  <option value="3">A5</option>
                  <option value="6">B4</option>
                  <option value="7">B5</option>
              </select>
            </div>
            <div class="col-6">
              <label class="form-label">가로</label>
              <div class="input-group has-validation">
                {{form.width}}
                <span class="mm" style="margin-left: 3px;">mm</span>
              </div>
              {% if form.width.error %}
                <div class="text-danger">
                    {{ form.width.error }}
                </div>
              {% endif %}
            </div>

            <div class="col-6">
              <label class="form-label">세로</label>
              <div class="input-group has-validation">
                {{form.height}}
                <span class="mm" style="margin-left: 3px;">mm</span>
              </div>
              {% if form.height.error %}
                <div class="text-danger">
                    {{ form.height.error }}
                </div>
              {% endif %}
            </div>
          </div>
        </div>
        <hr>

        <div class="col-12">
          <label class="form-label">페이지</label>
          <div class="form-input">
            <div class="between form-small-input">
              {{form.page}}
              <span class="mm">page</span>
            </div>
          </div>
          {% if form.page.error %}
            <div class="text-danger">
                {{ form.page.error }}
            </div>
          {% endif %}
        </div>
        <hr>

        <div class="col-12">
            <label class="form-label">제본</label>
            <div class="form-input">
              <div>
                <select name="binding" required class="form-select form-small-input" id="id_binding">
                  <option value="하드커버">하드커버 제본</option>
                  <option value="중철">중철 제본</option>
                  <option value="무선">무선 제본</option>
                  <option value="미싱">미싱 제본</option>
                  <option value="떡">떡 제본</option>
                  <option value="스프링">스프링 제본</option>
                </select>
                {% if form.binding.error %}
                  <div class="text-danger">
                    {{ form.binding.error }}
                  </div>
                {% endif %}
              </div>
              <div>
                {{form.bindingType}}
                {% if form.bindingType.error %}
                  <div class="text-danger">
                    {{ form.bindingType.error }}
                  </div>
                {% endif %}
              </div>
            </div>
        </div>
        <hr>

        <div class="col-12">
            <label class="form-label">수량</label>
            <div class="form-input">
              <div class="between form-small-input">
                <select name="quantity" required class="form-select form-input" id="id_quantity">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                  <option value="40">40</option>
                  <option value="50">50</option>
                  <option value="60">60</option>
                  <option value="70">70</option>
                  <option value="80">80</option>
                  <option value="90">90</option>
                  <option value="100">100</option>
                  <option value="110">110</option>
                  <option value="120">120</option>
                  <option value="130">130</option>
                  <option value="140">140</option>
                  <option value="150">150</option>
                  <option value="160">160</option>
                  <option value="170">170</option>
                  <option value="180">180</option>
                  <option value="190">190</option>
                  <option value="200">200</option>
                  <option value="210">210</option>
                  <option value="220">220</option>
                  <option value="230">230</option>
                  <option value="240">240</option>
                  <option value="250">250</option>
                  <option value="260">260</option>
                  <option value="270">270</option>
                  <option value="280">280</option>
                  <option value="290">290</option>
                  <option value="300">300</option>
                  <option value="310">310</option>
                  <option value="320">320</option>
                  <option value="330">330</option>
                  <option value="340">340</option>
                  <option value="350">350</option>
                  <option value="360">360</option>
                  <option value="370">370</option>
                  <option value="380">380</option>
                  <option value="390">390</option>
                  <option value="400">400</option>
                  <option value="410">410</option>
                  <option value="420">420</option>
                  <option value="430">430</option>
                  <option value="440">440</option>
                  <option value="450">450</option>
                  <option value="460">460</option>
                  <option value="470">470</option>
                  <option value="480">480</option>
                  <option value="490">490</option>
                  <option value="500">500</option>
                </select>
                <span class="mm">부</span>
              </div>
            </div>
            {% if form.quantity.error %}
              <div class="text-danger">
                  {{ form.quantity.error }}
              </div>
            {% endif %}
        </div>
        <hr>

        <div class="col-12 between">
          <span>가격 : </span>
          <h2 id="price" class="text-danger fw-bold">{{goodsInfo.price}}</h2>
          <input type="hidden" value="{{goodsInfo.price}}" id="priceInput" name="price">
        </div>
        

          <button class="w-100 btn main-color btn-lg" type="button">장바구니에 담기</button>
          <div class="popup_layer" id="popup_layer" style="display: none; margin-top: 0px;">
            <div class="popup_box">
              <div style="height: 30px; width: 30px; float: top;">
                <a href="javascript:closePop();"><img src="{% static 'img/ic_close.svg' %}"></a>
              </div>          
                <div class="popup_cont">
                  <h5>파일업로드</h5>
                    <input class="file-name" value="" placeholder="첨부파일" disabled required>
                    <label for="file" class="w-100 text-center">파일찾기</label>
                    {{form.imgFile}}
                    <!-- https://velog.io/@sklove96/inputtypefile-%EC%BB%A4%EC%8A%A4%ED%85%80%ED%95%98%EA%B8%B0 -->
                </div>
                <div>
                  <p>추가요청사항</p>
                  {{form.additionalRequest}}
                </div>
                <div class="popup_btn" style="float: bottom;">
                  {% if user.is_authenticated %}
                    <a href="javascript:insertCart();" id="add-button">장바구니에 담기</a>
                  {% else %}
                    <a href="javascript:notLogin();" id="add-button">장바구니에 담기</a>
                  {% endif %}
                </div>
            </div>
          </div>
        </form>
    </div>
</div>